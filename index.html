<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>NECS 2026 - Live Streams</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=Space+Grotesk:wght@500;600;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --gold: #F6C343;
      --gold-hover: #FFD45C;
      --copper: #B87333;
      --purple: #9147FF;
      --purple-hover: #772CE8;
      --live-red: #F23136;
      --bg-dark: #050C1A;
      --bg-base: #0F2036;
      --bg-menu: linear-gradient(180deg, #02040b 0%, #020611 40%, #000107 100%);
      --bg-elevated: #182F4E;
      --bg-card: #1F3B57;
      --bg-hover: #284964;
      --border: rgba(246,195,67,0.15);
      --text: #F5F7FB;
      --text-alt: #E1E6F1;
      --text-muted: #A8B6CE;
      --text-dim: #7F92AE;
    }
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: 'Inter', -apple-system, sans-serif; background: linear-gradient(180deg, var(--bg-dark), var(--bg-base)); color: var(--text); overflow-x: hidden; }
    
    /* TOP NAV */
    .topnav { position: fixed; top: 0; left: 0; right: 0; height: 50px; background: var(--bg-menu); border-bottom: 1px solid rgba(255,255,255,0.08); display: flex; align-items: center; padding: 0 10px; z-index: 1000; }
    .topnav-section { display: flex; align-items: center; flex: 1; }
    .topnav-section.center { justify-content: center; }
    .topnav-section.right { justify-content: flex-end; }
    .topnav-brand { display: flex; align-items: center; padding: 5px 6px; border-radius: 6px; cursor: pointer; transition: background 0.15s; }
    .topnav-brand:hover { background: var(--bg-hover); }
    .logo-frame { width: 64px; height: 44px; overflow: hidden; border-radius: 6px; display: flex; align-items: center; justify-content: center; }
    .topnav-logo { width: 100%; height: auto; border-radius: 4px; object-fit: contain; }
    .topnav-links { display: flex; margin-left: 10px; }
    .topnav-link { padding: 12px 10px; font-size: 13px; font-weight: 600; color: var(--text-muted); background: none; border: none; cursor: pointer; transition: color 0.15s; position: relative; }
    .topnav-link:hover { color: var(--gold); }
    .topnav-link.active { color: var(--gold); }
    .topnav-link.active::after { content: ''; position: absolute; bottom: 0; left: 10px; right: 10px; height: 2px; background: var(--gold); }
    .search-box { display: flex; width: 100%; max-width: 380px; background: var(--bg-elevated); border-radius: 6px; overflow: hidden; border: 1px solid transparent; transition: border-color 0.15s; }
    .search-box:focus-within { border-color: var(--gold); }
    .search-input { flex: 1; padding: 7px 12px; font-size: 13px; background: transparent; border: none; color: var(--text); outline: none; }
    .search-input::placeholder { color: var(--text-dim); }
    .search-btn { padding: 7px 12px; background: var(--bg-hover); border: none; border-left: 1px solid var(--border); color: var(--text-muted); cursor: pointer; transition: all 0.15s; font-size: 14px; }
    .search-btn:hover { background: var(--gold); color: var(--bg-dark); }
    .topnav-icons { display: flex; gap: 5px; }
    .topnav-icon { width: 30px; height: 30px; display: flex; align-items: center; justify-content: center; background: none; border: none; border-radius: 4px; color: var(--text-muted); cursor: pointer; font-size: 16px; transition: all 0.15s; position: relative; }
    .topnav-icon:hover { background: var(--bg-hover); color: var(--text); }
    .topnav-icon .badge { position: absolute; top: 2px; right: 2px; width: 8px; height: 8px; background: var(--live-red); border-radius: 50%; }
    .topnav-btn { padding: 5px 10px; font-size: 13px; font-weight: 600; border-radius: 4px; cursor: pointer; transition: all 0.15s; margin-left: 5px; }
    .topnav-btn-secondary { background: transparent; border: none; color: var(--text); }
    .topnav-btn-secondary:hover { background: var(--bg-hover); }
    .topnav-btn-primary { background: var(--gold); border: none; color: var(--bg-dark); }
    .topnav-btn-primary:hover { background: var(--gold-hover); }
    .topnav-user { display: flex; align-items: center; gap: 8px; padding: 3px; padding-right: 10px; background: var(--bg-elevated); border-radius: 20px; cursor: pointer; margin-left: 10px; transition: background 0.15s; }
    .topnav-user:hover { background: var(--bg-hover); }
    .topnav-avatar { width: 28px; height: 28px; border-radius: 50%; object-fit: cover; }
    .topnav-username { font-size: 13px; font-weight: 600; }
    
    /* SIDEBAR */
    .sidebar { position: fixed; left: 0; top: 50px; bottom: 0; width: 240px; background: var(--bg-menu); border-right: 1px solid rgba(255,255,255,0.08); overflow-y: auto; z-index: 500; transition: width 0.2s ease; }
    .sidebar.collapsed { width: 50px; }
    .sidebar::-webkit-scrollbar { width: 6px; }
    .sidebar::-webkit-scrollbar-thumb { background: var(--bg-hover); border-radius: 3px; }
    .sidebar-header { display: flex; justify-content: space-between; align-items: center; padding: 10px; }
    .sidebar-title { font-size: 13px; font-weight: 700; text-transform: uppercase; color: var(--text); }
    .sidebar.collapsed .sidebar-title { display: none; }
    .sidebar-collapse { width: 24px; height: 24px; display: flex; align-items: center; justify-content: center; background: none; border: none; color: var(--text-muted); cursor: pointer; border-radius: 4px; font-size: 12px; transition: all 0.15s; }
    .sidebar-collapse:hover { background: var(--bg-hover); color: var(--text); }
    .sidebar.collapsed .sidebar-collapse { margin: 0 auto; }
    .sidebar-section { padding: 0 10px 20px; }
    .sidebar.collapsed .sidebar-section { padding: 0 5px 20px; }
    .sidebar-label { font-size: 11px; font-weight: 600; text-transform: uppercase; color: var(--text-muted); padding: 10px 10px 8px; }
    .sidebar.collapsed .sidebar-label { display: none; }
    .channel { display: flex; align-items: center; gap: 10px; padding: 5px 10px; border-radius: 6px; cursor: pointer; transition: background 0.15s; }
    .sidebar.collapsed .channel { padding: 5px; justify-content: center; }
    .channel:hover { background: var(--bg-hover); }
    .channel-avatar-wrap { position: relative; flex-shrink: 0; }
    .channel-avatar { width: 30px; height: 30px; border-radius: 50%; object-fit: cover; }
    .channel.live .channel-avatar { border: 2px solid var(--live-red); }
    .channel-live-dot { position: absolute; bottom: -2px; right: -2px; width: 10px; height: 10px; background: var(--live-red); border: 2px solid var(--bg-base); border-radius: 50%; }
    .channel-info { flex: 1; min-width: 0; }
    .sidebar.collapsed .channel-info { display: none; }
    .channel-name { font-size: 14px; font-weight: 600; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
    .channel-game { font-size: 12px; color: var(--text-muted); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
    .channel-viewers { font-size: 12px; color: var(--text-muted); display: flex; align-items: center; gap: 4px; }
    .sidebar.collapsed .channel-viewers { display: none; }
    .viewers-dot { width: 8px; height: 8px; background: var(--live-red); border-radius: 50%; }
    .show-more { display: flex; align-items: center; gap: 6px; padding: 8px 10px; font-size: 13px; font-weight: 600; color: var(--gold); background: none; border: none; cursor: pointer; width: 100%; text-align: left; border-radius: 4px; transition: background 0.15s; }
    .show-more:hover { background: var(--bg-hover); }
    .sidebar.collapsed .show-more { display: none; }
    
    /* MAIN */
    .main { margin-left: 240px; margin-top: 50px; transition: margin-left 0.2s ease; }
    .main.expanded { margin-left: 50px; }
    
    /* PLAYER PAGE */
    .player-page { display: none; }
    .player-page.active { display: block; }
    .player-container { display: flex; height: calc(100vh - 50px); }
    .player-main { flex: 1; display: flex; flex-direction: column; background: var(--bg-dark); }
    .player-video { flex: 1; position: relative; background: var(--bg-base); display: flex; align-items: center; justify-content: center; }
    .player-video video { width: 100%; height: 100%; object-fit: contain; background: var(--bg-dark); }
    .player-controls { display: flex; flex-direction: column; gap: 8px; padding: 10px 16px; background: var(--bg-base); border-top: 1px solid var(--border); }
    .player-seek { display: flex; align-items: center; gap: 10px; }
    .player-controls-bar { display: flex; align-items: center; justify-content: space-between; }
    .seek-time { font-size: 12px; color: var(--text-muted); min-width: 90px; text-align: right; }
    .seek-slider { flex: 1; height: 4px; -webkit-appearance: none; background: var(--bg-hover); border-radius: 2px; cursor: pointer; }
    .seek-slider::-webkit-slider-thumb { -webkit-appearance: none; width: 12px; height: 12px; background: var(--gold); border-radius: 50%; }
    .player-controls-left, .player-controls-right { display: flex; align-items: center; gap: 10px; }
    .player-controls-right { gap: 5px; }
    .player-ctrl { width: 30px; height: 30px; display: flex; align-items: center; justify-content: center; background: none; border: none; color: var(--text-muted); border-radius: 4px; cursor: pointer; font-size: 14px; transition: all 0.15s; }
    .player-ctrl:hover { background: var(--bg-hover); color: var(--text); }
    .player-ctrl.active { color: var(--gold); }
    .player-volume { display: flex; align-items: center; gap: 5px; }
    .volume-slider { width: 80px; height: 4px; -webkit-appearance: none; background: var(--bg-hover); border-radius: 2px; cursor: pointer; }
    .volume-slider::-webkit-slider-thumb { -webkit-appearance: none; width: 12px; height: 12px; background: var(--text); border-radius: 50%; }
    .player-speed { padding: 4px 8px; background: var(--bg-elevated); border: 1px solid var(--border); border-radius: 4px; color: var(--text); font-size: 11px; font-weight: 600; cursor: pointer; }
    .player-quality { padding: 4px 8px; background: var(--bg-elevated); border: none; border-radius: 4px; color: var(--text); font-size: 11px; font-weight: 600; cursor: pointer; }
    .player-quality:hover { background: var(--bg-hover); }
    .player-info { padding: 16px; background: var(--bg-base); border-top: 1px solid var(--border); }
    .player-info-top { display: flex; gap: 12px; margin-bottom: 12px; }
    .player-info-avatar { width: 64px; height: 64px; border-radius: 50%; cursor: pointer; transition: transform 0.15s; object-fit: cover; }
    .player-info-avatar:hover { transform: scale(1.05); }
    .player-info-details { flex: 1; }
    .player-info-title { font-size: 16px; font-weight: 700; margin-bottom: 4px; }
    .player-info-channel { font-size: 14px; color: var(--gold); cursor: pointer; }
    .player-info-channel:hover { text-decoration: underline; }
    .player-info-game { font-size: 13px; color: var(--text-muted); margin-top: 4px; }
    .player-info-actions { display: flex; gap: 8px; }
    .player-follow-btn { padding: 8px 16px; font-size: 13px; font-weight: 600; border-radius: 4px; cursor: pointer; display: flex; align-items: center; gap: 6px; transition: all 0.15s; }
    .player-follow-btn.follow { background: var(--gold); border: none; color: var(--bg-dark); }
    .player-follow-btn.follow:hover { background: var(--gold-hover); }
    .player-follow-btn.following { background: transparent; border: 1px solid var(--gold); color: var(--gold); }
    .player-follow-btn.following:hover { background: rgba(212,164,55,0.1); }
    .player-sub-btn { padding: 8px 16px; font-size: 13px; font-weight: 600; background: var(--purple); border: none; border-radius: 4px; color: white; cursor: pointer; transition: all 0.15s; }
    .player-sub-btn:hover { background: var(--purple-hover); }
    .player-info-stats { display: flex; gap: 20px; padding-top: 12px; border-top: 1px solid var(--border); }
    .player-stat { font-size: 13px; }
    .player-stat strong { color: var(--text); }
    .player-stat span { color: var(--text-muted); }
    
    /* CHAT SIDEBAR */
    .chat-sidebar { width: 340px; background: var(--bg-base); border-left: 1px solid var(--border); display: flex; flex-direction: column; }
    .chat-sidebar.hidden { display: none; }
    .chat-header { display: flex; justify-content: space-between; align-items: center; padding: 10px 16px; border-bottom: 1px solid var(--border); }
    .chat-header-title { font-size: 14px; font-weight: 700; }
    .chat-header-actions { display: flex; gap: 5px; }
    .chat-header-btn { width: 24px; height: 24px; display: flex; align-items: center; justify-content: center; background: none; border: none; color: var(--text-muted); border-radius: 4px; cursor: pointer; font-size: 12px; transition: all 0.15s; }
    .chat-header-btn:hover { background: var(--bg-hover); color: var(--text); }
    .chat-messages { flex: 1; overflow-y: auto; padding: 10px; }
    .chat-messages::-webkit-scrollbar { width: 4px; }
    .chat-messages::-webkit-scrollbar-thumb { background: var(--bg-hover); border-radius: 2px; }
    .chat-msg { padding: 5px 0; font-size: 13px; line-height: 1.4; word-wrap: break-word; }
    .chat-badge { display: inline-block; width: 18px; height: 18px; vertical-align: middle; margin-right: 4px; background: var(--gold); border-radius: 3px; font-size: 10px; text-align: center; line-height: 18px; color: var(--bg-dark); }
    .chat-user { font-weight: 600; cursor: pointer; }
    .chat-user:hover { text-decoration: underline; }
    .chat-text { color: var(--text-alt); }
    .chat-input-area { padding: 10px; border-top: 1px solid var(--border); }
    .chat-input-wrap { position: relative; }
    .chat-input { width: 100%; padding: 10px 12px; padding-right: 80px; font-size: 13px; background: var(--bg-elevated); border: 1px solid var(--border); border-radius: 4px; color: var(--text); outline: none; transition: border-color 0.15s; }
    .chat-input:focus { border-color: var(--gold); }
    .chat-input::placeholder { color: var(--text-dim); }
    .chat-input-actions { position: absolute; right: 8px; top: 50%; transform: translateY(-50%); display: flex; gap: 5px; }
    .chat-emoji { width: 24px; height: 24px; display: flex; align-items: center; justify-content: center; background: none; border: none; color: var(--text-muted); cursor: pointer; font-size: 14px; border-radius: 4px; transition: all 0.15s; }
    .chat-emoji:hover { background: var(--bg-hover); color: var(--text); }
    .chat-send { padding: 4px 10px; background: var(--gold); border: none; border-radius: 4px; color: var(--bg-dark); font-size: 12px; font-weight: 600; cursor: pointer; transition: all 0.15s; }
    .chat-send:hover { background: var(--gold-hover); }
    
    /* BROWSE PAGE */
    .browse-page { display: block; }
    .browse-page.hidden { display: none; }
    .browse-content { padding: 20px; }
    .browse-header { margin-bottom: 20px; }
    .browse-title { font-size: 24px; font-weight: 700; margin-bottom: 8px; display: flex; align-items: center; gap: 10px; }
    .browse-subtitle { font-size: 14px; color: var(--text-muted); }
    .live-dot { width: 14px; height: 14px; border-radius: 50%; background: var(--live-red); box-shadow: 0 0 8px rgba(235,4,0,0.6); }
    .streams-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 20px; }
    .streams-grid.featured-grid,
    .streams-grid.clip-grid { grid-template-columns: repeat(2, minmax(0, 1fr)); }
    @media (max-width: 980px) {
      .streams-grid.featured-grid,
      .streams-grid.clip-grid { grid-template-columns: 1fr; }
    }
    .stream-card { cursor: pointer; transition: transform 0.15s; }
    .stream-card:hover { transform: translateY(-4px); }
    .stream-card:hover .stream-preview-img { transform: scale(1.02); }
    .stream-preview { position: relative; aspect-ratio: 16/9; border-radius: 8px; overflow: hidden; background: var(--bg-elevated); margin-bottom: 10px; }
    .stream-preview-img { width: 100%; height: 100%; object-fit: cover; transition: transform 0.3s ease; }
    .stream-overlay { position: absolute; inset: 0; background: rgba(0,0,0,0.4); display: flex; align-items: center; justify-content: center; opacity: 0; transition: opacity 0.15s; }
    .stream-card:hover .stream-overlay { opacity: 1; }
    .stream-play { width: 50px; height: 50px; background: var(--gold); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 20px; color: var(--bg-dark); }
    .stream-live { position: absolute; top: 10px; left: 10px; padding: 2px 5px; background: var(--live-red); border-radius: 3px; font-size: 11px; font-weight: 700; }
    .stream-viewers { position: absolute; bottom: 10px; left: 10px; padding: 2px 6px; background: rgba(0,0,0,0.75); border-radius: 3px; font-size: 12px; display: flex; align-items: center; gap: 4px; }
    .stream-duration { position: absolute; bottom: 10px; right: 10px; padding: 2px 6px; background: rgba(0,0,0,0.75); border-radius: 3px; font-size: 12px; }
    .stream-info { display: flex; gap: 10px; }
    .stream-avatar { width: 40px; height: 40px; border-radius: 50%; flex-shrink: 0; cursor: pointer; object-fit: cover; }
    .stream-meta { flex: 1; min-width: 0; }
    .stream-title { font-size: 14px; font-weight: 600; margin-bottom: 2px; display: -webkit-box; -webkit-line-clamp: 1; -webkit-box-orient: vertical; overflow: hidden; }
    .stream-channel { font-size: 13px; color: var(--text-muted); cursor: pointer; }
    .stream-channel:hover { color: var(--gold); }
    .stream-game { font-size: 13px; color: var(--text-muted); }
    .stream-game:hover { color: var(--gold); }
    .stream-tags { display: flex; gap: 6px; margin-top: 6px; }
    .stream-tag { padding: 2px 8px; background: var(--bg-hover); border-radius: 10px; font-size: 11px; color: var(--text-muted); cursor: pointer; transition: all 0.15s; }
    .stream-tag:hover { background: var(--bg-card); color: var(--text); }
    .section { margin-bottom: 30px; }
    .section-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; }
    .section-title { font-size: 18px; font-weight: 700; }
    .section-more { font-size: 13px; font-weight: 600; color: var(--gold); cursor: pointer; display: flex; align-items: center; gap: 4px; transition: opacity 0.15s; }
    .section-more:hover { opacity: 0.8; }
    .categories-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(150px, 1fr)); gap: 15px; }
    .category-card { cursor: pointer; transition: transform 0.15s; }
    .category-card:hover { transform: translateY(-4px); }
    .category-card:hover .category-img { transform: scale(1.05); }
    .category-preview { aspect-ratio: 3/4; border-radius: 6px; overflow: hidden; margin-bottom: 8px; }
    .category-img { width: 100%; height: 100%; object-fit: cover; transition: transform 0.3s ease; }
    .category-name { font-size: 14px; font-weight: 600; }
    .category-viewers { font-size: 12px; color: var(--text-muted); }
    .toast { position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%) translateY(100px); padding: 12px 20px; background: var(--bg-card); border: 1px solid var(--gold); border-radius: 4px; font-size: 14px; font-weight: 500; z-index: 10000; opacity: 0; transition: all 0.3s ease; }
    .toast.show { transform: translateX(-50%) translateY(0); opacity: 1; }
    .user-gold { color: #D4A437; } .user-red { color: #FF6B6B; } .user-blue { color: #4DABF7; } .user-green { color: #69DB7C; } .user-pink { color: #F783AC; } .user-purple { color: #B197FC; } .user-orange { color: #FFA94D; } .user-cyan { color: #3BC9DB; }
  </style>
</head>
<body>
  <!-- Top Navigation -->
  <nav class="topnav">
    <div class="topnav-section">
      <div class="topnav-brand" onclick="goHome()" aria-label="NECS">
        <div class="logo-frame">
          <img src="images/logo.png" alt="NECS logo" class="topnav-logo">
        </div>
      </div>
      <div class="topnav-links">
        <button class="topnav-link active" id="nav-following" onclick="showPage('browse'); setNavActive('following')">Following</button>
        <button class="topnav-link" id="nav-browse" onclick="showPage('browse'); setNavActive('browse'); showToast('Browsing all categories')">Browse</button>
        <button class="topnav-link" id="nav-esports" onclick="showPage('browse'); setNavActive('esports'); showToast('Loading Esports hub')">Esports</button>
      </div>
    </div>
    <div class="topnav-section center">
      <div class="search-box">
        <input type="text" class="search-input" placeholder="Search" id="search-input" onkeypress="handleSearch(event)">
        <button class="search-btn" onclick="doSearch()">üîç</button>
      </div>
    </div>
    <div class="topnav-section right">
      <div class="topnav-icons">
        <button class="topnav-icon" onclick="showToast('Premium: Watch ad-free!')">üëë</button>
        <button class="topnav-icon" onclick="showToast('No new notifications')">üîî<span class="badge"></span></button>
        <button class="topnav-icon" onclick="showToast('Whispers coming soon')">üí¨</button>
      </div>
      <button class="topnav-btn topnav-btn-secondary" onclick="showToast('Log In dialog opened')">Log In</button>
      <button class="topnav-btn topnav-btn-primary" onclick="showToast('Sign Up dialog opened')">Sign Up</button>
      <div class="topnav-user" onclick="showToast('Opening profile menu')">
        <img src="images/logo.png" alt="User" class="topnav-avatar">
        <span class="topnav-username">NECSFan</span>
      </div>
    </div>
  </nav>
  
  <!-- Sidebar -->
  <aside class="sidebar" id="sidebar">
    <div class="sidebar-header">
      <span class="sidebar-title">For You</span>
      <button class="sidebar-collapse" onclick="toggleSidebar()">‚óÄ</button>
    </div>
    <div class="sidebar-section">
      <div class="sidebar-label">Followed Channels</div>
      <div class="channel live" onclick="watchStream('necs-main')">
        <div class="channel-avatar-wrap">
          <img src="images/logo.png" alt="NECS" class="channel-avatar">
          <span class="channel-live-dot"></span>
        </div>
        <div class="channel-info"><div class="channel-name">NECS Official</div><div class="channel-game">VALORANT</div></div>
        <div class="channel-viewers"><span class="viewers-dot"></span>156K</div>
      </div>
      <div class="channel live" onclick="watchStream('necs-val')">
        <div class="channel-avatar-wrap">
          <img src="images/Screen Shot 2026-01-13 at 1.01.57 AM.png" alt="VAL" class="channel-avatar">
          <span class="channel-live-dot"></span>
        </div>
        <div class="channel-info"><div class="channel-name">NECS Valorant</div><div class="channel-game">VALORANT</div></div>
        <div class="channel-viewers"><span class="viewers-dot"></span>89K</div>
      </div>
      <div class="channel live" onclick="watchStream('necs-rl')">
        <div class="channel-avatar-wrap">
          <img src="images/Screen Shot 2026-01-13 at 1.02.32 AM.png" alt="RL" class="channel-avatar">
          <span class="channel-live-dot"></span>
        </div>
        <div class="channel-info"><div class="channel-name">NECS Rocket League</div><div class="channel-game">Rocket League</div></div>
        <div class="channel-viewers"><span class="viewers-dot"></span>67K</div>
      </div>
      <div class="channel live" onclick="watchStream('necs-smash')">
        <div class="channel-avatar-wrap">
          <img src="images/Screen Shot 2026-01-13 at 1.02.16 AM.png" alt="SSBU" class="channel-avatar">
          <span class="channel-live-dot"></span>
        </div>
        <div class="channel-info"><div class="channel-name">NECS Smash</div><div class="channel-game">Smash Ultimate</div></div>
        <div class="channel-viewers"><span class="viewers-dot"></span>45K</div>
      </div>
      <button class="show-more" onclick="showToast('Showing 12 more channels')">Show More ‚ñº</button>
    </div>
    <div class="sidebar-section">
      <div class="sidebar-label">Recommended Channels</div>
      <div class="channel" onclick="watchStream('tenz')">
        <div class="channel-avatar-wrap"><div class="channel-avatar" style="background:var(--gold);display:flex;align-items:center;justify-content:center;font-weight:700;font-size:12px;color:var(--bg-dark)">T</div></div>
        <div class="channel-info"><div class="channel-name">TenZ</div><div class="channel-game">VALORANT</div></div>
      </div>
      <div class="channel" onclick="watchStream('sypical')">
        <div class="channel-avatar-wrap"><div class="channel-avatar" style="background:var(--purple);display:flex;align-items:center;justify-content:center;font-weight:700;font-size:12px;color:white">S</div></div>
        <div class="channel-info"><div class="channel-name">Sypical</div><div class="channel-game">Rocket League</div></div>
      </div>
      <div class="channel" onclick="watchStream('mkleo')">
        <div class="channel-avatar-wrap"><div class="channel-avatar" style="background:#E60012;display:flex;align-items:center;justify-content:center;font-weight:700;font-size:12px;color:white">M</div></div>
        <div class="channel-info"><div class="channel-name">MkLeo</div><div class="channel-game">Smash Ultimate</div></div>
      </div>
    </div>
  </aside>
  
  <!-- Main Content -->
  <main class="main" id="main">
    <!-- Browse Page -->
    <div class="browse-page" id="browse-page">
      <div class="browse-content">
        <div class="browse-header">
          <h1 class="browse-title"><span class="live-dot"></span>Live Channels</h1>
          <p class="browse-subtitle">NECS 2026 Championship - Nashville, TN</p>
        </div>
        <section class="section">
          <div class="section-header">
            <h2 class="section-title">Featured Streams</h2>
            <span class="section-more" onclick="showToast('Loading more streams')">Show All ‚Üí</span>
          </div>
          <div class="streams-grid featured-grid">
            <div class="stream-card" onclick="watchStream('necs-main')">
              <div class="stream-preview">
                <img src="images/Screen Shot 2026-01-13 at 1.01.57 AM.png" alt="Stream" class="stream-preview-img">
                <div class="stream-overlay"><div class="stream-play">‚ñ∂</div></div>
                <span class="stream-live">LIVE</span>
                <span class="stream-viewers"><span class="viewers-dot"></span>156.2K</span>
              </div>
              <div class="stream-info">
                <img src="images/logo.png" alt="Channel" class="stream-avatar" onclick="event.stopPropagation(); showToast('Viewing NECS Official profile')">
                <div class="stream-meta">
                  <div class="stream-title">NECS 2026 Grand Finals - Championship Day!</div>
                  <div class="stream-channel" onclick="event.stopPropagation(); showToast('Viewing NECS Official channel')">NECS Official</div>
                  <div class="stream-game" onclick="event.stopPropagation(); showToast('Browsing VALORANT category')">VALORANT</div>
                  <div class="stream-tags">
                    <span class="stream-tag" onclick="event.stopPropagation(); showToast('Browsing Esports tag')">Esports</span>
                    <span class="stream-tag" onclick="event.stopPropagation(); showToast('Browsing English tag')">English</span>
                  </div>
                </div>
              </div>
            </div>
            <div class="stream-card" onclick="watchStream('necs-rl')">
              <div class="stream-preview">
                <img src="images/Screen Shot 2026-01-13 at 1.02.32 AM.png" alt="Stream" class="stream-preview-img">
                <div class="stream-overlay"><div class="stream-play">‚ñ∂</div></div>
                <span class="stream-live">LIVE</span>
                <span class="stream-viewers"><span class="viewers-dot"></span>67.4K</span>
              </div>
              <div class="stream-info">
                <img src="images/Screen Shot 2026-01-13 at 1.02.32 AM.png" alt="Channel" class="stream-avatar" onclick="event.stopPropagation(); showToast('Viewing channel profile')">
                <div class="stream-meta">
                  <div class="stream-title">RLCS x NECS - Winners Finals</div>
                  <div class="stream-channel" onclick="event.stopPropagation(); showToast('Viewing channel')">NECS Rocket League</div>
                  <div class="stream-game" onclick="event.stopPropagation(); showToast('Browsing Rocket League')">Rocket League</div>
                  <div class="stream-tags">
                    <span class="stream-tag" onclick="event.stopPropagation(); showToast('Browsing tag')">Esports</span>
                    <span class="stream-tag" onclick="event.stopPropagation(); showToast('Browsing tag')">Championship</span>
                  </div>
                </div>
              </div>
            </div>
            <div class="stream-card" onclick="watchStream('necs-smash')">
              <div class="stream-preview">
                <img src="images/Screen Shot 2026-01-13 at 1.02.16 AM.png" alt="Stream" class="stream-preview-img">
                <div class="stream-overlay"><div class="stream-play">‚ñ∂</div></div>
                <span class="stream-live">LIVE</span>
                <span class="stream-viewers"><span class="viewers-dot"></span>45.1K</span>
              </div>
              <div class="stream-info">
                <img src="images/Screen Shot 2026-01-13 at 1.02.16 AM.png" alt="Channel" class="stream-avatar" onclick="event.stopPropagation(); showToast('Viewing channel profile')">
                <div class="stream-meta">
                  <div class="stream-title">SSBU Invitational - Top 8 Finals</div>
                  <div class="stream-channel" onclick="event.stopPropagation(); showToast('Viewing channel')">NECS Smash</div>
                  <div class="stream-game" onclick="event.stopPropagation(); showToast('Browsing Smash')">Super Smash Bros. Ultimate</div>
                  <div class="stream-tags">
                    <span class="stream-tag" onclick="event.stopPropagation(); showToast('Browsing tag')">FGC</span>
                    <span class="stream-tag" onclick="event.stopPropagation(); showToast('Browsing tag')">Tournament</span>
                  </div>
                </div>
              </div>
            </div>
            <div class="stream-card" onclick="watchStream('necs-bts')">
              <div class="stream-preview">
                <img src="images/Screen Shot 2026-01-13 at 1.01.43 AM.png" alt="Stream" class="stream-preview-img">
                <div class="stream-overlay"><div class="stream-play">‚ñ∂</div></div>
                <span class="stream-live">LIVE</span>
                <span class="stream-viewers"><span class="viewers-dot"></span>12.3K</span>
              </div>
              <div class="stream-info">
                <img src="images/logo.png" alt="Channel" class="stream-avatar" onclick="event.stopPropagation(); showToast('Viewing channel profile')">
                <div class="stream-meta">
                  <div class="stream-title">Behind the Scenes - Bridgestone Arena</div>
                  <div class="stream-channel" onclick="event.stopPropagation(); showToast('Viewing channel')">NECS BTS</div>
                  <div class="stream-game" onclick="event.stopPropagation(); showToast('Browsing IRL')">Just Chatting</div>
                  <div class="stream-tags">
                    <span class="stream-tag" onclick="event.stopPropagation(); showToast('Browsing tag')">IRL</span>
                    <span class="stream-tag" onclick="event.stopPropagation(); showToast('Browsing tag')">Nashville</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </section>
        <section class="section">
          <div class="section-header">
            <h2 class="section-title">üéÆ Categories</h2>
            <span class="section-more" onclick="showToast('Browse all categories')">Browse All ‚Üí</span>
          </div>
          <div class="categories-grid">
            <div class="category-card" onclick="watchStream('necs-val')">
              <div class="category-preview"><img src="images/Screen Shot 2026-01-13 at 1.01.57 AM.png" alt="VALORANT" class="category-img"></div>
              <div class="category-name">VALORANT</div>
              <div class="category-viewers">89.2K viewers</div>
            </div>
            <div class="category-card" onclick="watchStream('necs-rl')">
              <div class="category-preview"><img src="images/Screen Shot 2026-01-13 at 1.02.32 AM.png" alt="Rocket League" class="category-img"></div>
              <div class="category-name">Rocket League</div>
              <div class="category-viewers">67.4K viewers</div>
            </div>
            <div class="category-card" onclick="watchStream('necs-smash')">
              <div class="category-preview"><img src="images/Screen Shot 2026-01-13 at 1.02.16 AM.png" alt="Smash" class="category-img"></div>
              <div class="category-name">Smash Ultimate</div>
              <div class="category-viewers">45.1K viewers</div>
            </div>
            <div class="category-card" onclick="watchStream('necs-bts')">
              <div class="category-preview"><img src="images/Screen Shot 2026-01-13 at 1.01.43 AM.png" alt="Just Chatting" class="category-img"></div>
              <div class="category-name">Just Chatting</div>
              <div class="category-viewers">12.3K viewers</div>
            </div>
          </div>
        </section>
        <section class="section">
          <div class="section-header">
            <h2 class="section-title">üî• Top Clips Today</h2>
            <span class="section-more" onclick="showToast('Loading more clips')">View All ‚Üí</span>
          </div>
          <div class="streams-grid clip-grid">
            <div class="stream-card" onclick="watchStream('clip-tenz')">
              <div class="stream-preview">
                <img src="images/Screen Shot 2026-01-13 at 1.01.57 AM.png" alt="Clip" class="stream-preview-img">
                <div class="stream-overlay"><div class="stream-play">‚ñ∂</div></div>
                <span class="stream-duration">0:32</span>
              </div>
              <div class="stream-info">
                <img src="images/logo.png" alt="Channel" class="stream-avatar">
                <div class="stream-meta">
                  <div class="stream-title">TenZ INSANE 1v5 ACE CLUTCH</div>
                  <div class="stream-channel">Clipped by NECSFan ‚Ä¢ 245K views</div>
                </div>
              </div>
            </div>
            <div class="stream-card" onclick="watchStream('clip-rl')">
              <div class="stream-preview">
                <img src="images/Screen Shot 2026-01-13 at 1.02.32 AM.png" alt="Clip" class="stream-preview-img">
                <div class="stream-overlay"><div class="stream-play">‚ñ∂</div></div>
                <span class="stream-duration">0:47</span>
              </div>
              <div class="stream-info">
                <img src="images/logo.png" alt="Channel" class="stream-avatar">
                <div class="stream-meta">
                  <div class="stream-title">TRIPLE OVERTIME GAME WINNER</div>
                  <div class="stream-channel">Clipped by RLFanatic ‚Ä¢ 189K views</div>
                </div>
              </div>
            </div>
            <div class="stream-card" onclick="watchStream('clip-mkleo')">
              <div class="stream-preview">
                <img src="images/Screen Shot 2026-01-13 at 1.02.16 AM.png" alt="Clip" class="stream-preview-img">
                <div class="stream-overlay"><div class="stream-play">‚ñ∂</div></div>
                <span class="stream-duration">0:28</span>
              </div>
              <div class="stream-info">
                <img src="images/logo.png" alt="Channel" class="stream-avatar">
                <div class="stream-meta">
                  <div class="stream-title">MkLeo PERFECT 3-STOCK</div>
                  <div class="stream-channel">Clipped by SmashLover ‚Ä¢ 156K views</div>
                </div>
              </div>
            </div>
          </div>
        </section>
      </div>
    </div>
    
    <!-- Player Page -->
    <div class="player-page" id="player-page">
      <div class="player-container">
        <div class="player-main">
          <div class="player-video">
            <video id="player-video" playsinline></video>
          </div>
          <div class="player-controls">
            <div class="player-seek">
              <input type="range" class="seek-slider" id="seek-slider" min="0" max="100" value="0" oninput="seekTo(this.value)">
              <span class="seek-time" id="time-display">0:00 / 0:00</span>
            </div>
            <div class="player-controls-bar">
              <div class="player-controls-left">
                <button class="player-ctrl" id="play-btn" onclick="togglePlay()">‚ñ∂</button>
                <div class="player-volume">
                  <button class="player-ctrl" id="mute-btn" onclick="toggleMute()">üîä</button>
                  <input type="range" class="volume-slider" min="0" max="100" value="75" oninput="setVolume(this.value)">
                </div>
              </div>
              <div class="player-controls-right">
                <select class="player-speed" id="speed-select" onchange="setSpeed(this.value)">
                  <option value="0.5">0.5x</option>
                  <option value="0.75">0.75x</option>
                  <option value="1" selected>1x</option>
                  <option value="1.25">1.25x</option>
                  <option value="1.5">1.5x</option>
                  <option value="2">2x</option>
                </select>
                <button class="player-ctrl" id="chat-toggle" onclick="toggleChat()">üí¨</button>
                <button class="player-ctrl" onclick="showToast('Clip created!')">üìé</button>
                <button class="player-ctrl" onclick="showToast('Settings opened')">‚öôÔ∏è</button>
                <button class="player-quality" onclick="cycleQuality()">1080p</button>
                <button class="player-ctrl" onclick="toggleTheater()">üñ•Ô∏è</button>
                <button class="player-ctrl" onclick="toggleFullscreen()">‚õ∂</button>
              </div>
            </div>
          </div>
          <div class="player-info">
            <div class="player-info-top">
              <img src="images/logo.png" alt="Channel" class="player-info-avatar" id="player-avatar" onclick="showToast('Viewing channel profile')">
              <div class="player-info-details">
                <div class="player-info-title" id="player-title">Stream Title</div>
                <div class="player-info-channel" id="player-channel" onclick="showToast('Viewing channel')">Channel Name</div>
                <div class="player-info-game" id="player-game">Game Name</div>
              </div>
              <div class="player-info-actions">
                <button class="player-follow-btn follow" id="player-follow" onclick="togglePlayerFollow()">‚ô° Follow</button>
                <button class="player-sub-btn" onclick="showToast('Subscribe options opened')">Subscribe</button>
              </div>
            </div>
            <div class="player-info-stats">
              <div class="player-stat"><strong id="player-viewers">156,234</strong> <span>watching now</span></div>
              <div class="player-stat"><strong>2.1M</strong> <span>followers</span></div>
              <div class="player-stat"><strong>May 8, 2026</strong> <span>started streaming</span></div>
            </div>
          </div>
        </div>
        <div class="chat-sidebar" id="chat-sidebar">
          <div class="chat-header">
            <span class="chat-header-title">Stream Chat</span>
            <div class="chat-header-actions">
              <button class="chat-header-btn" onclick="showToast('Chat settings opened')">‚öôÔ∏è</button>
              <button class="chat-header-btn" onclick="toggleChat()">‚úï</button>
            </div>
          </div>
          <div class="chat-messages" id="chat-messages"></div>
          <div class="chat-input-area">
            <div class="chat-input-wrap">
              <input type="text" class="chat-input" placeholder="Send a message" id="chat-input" onkeypress="handleChatEnter(event)">
              <div class="chat-input-actions">
                <button class="chat-emoji" onclick="addEmoji()">üòÄ</button>
                <button class="chat-send" onclick="sendChatMessage()">Chat</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>
  
  <div class="toast" id="toast"></div>
  
  <script>
    const streams = {
      'necs-main': { video: 'images/videos/valorant.mp4', title: 'NECS 2026 Grand Finals - Championship Day!', channel: 'NECS Official', game: 'VALORANT', viewers: '156,234', avatar: 'images/logo.png', poster: 'images/Screen Shot 2026-01-13 at 1.01.57 AM.png' },
      'necs-val': { video: 'images/videos/valorant.mp4', title: 'SEN vs LOUD - Semifinals', channel: 'NECS Valorant', game: 'VALORANT', viewers: '89,234', avatar: 'images/Screen Shot 2026-01-13 at 1.01.57 AM.png', poster: 'images/Screen Shot 2026-01-13 at 1.01.57 AM.png' },
      'necs-rl': { video: 'images/videos/rocket.mp4', title: 'RLCS x NECS - Winners Finals', channel: 'NECS Rocket League', game: 'Rocket League', viewers: '67,412', avatar: 'images/Screen Shot 2026-01-13 at 1.02.32 AM.png', poster: 'images/Screen Shot 2026-01-13 at 1.02.32 AM.png' },
      'necs-smash': { video: 'images/videos/smash.mp4', title: 'SSBU Invitational - Top 8 Finals', channel: 'NECS Smash', game: 'Super Smash Bros. Ultimate', viewers: '45,123', avatar: 'images/Screen Shot 2026-01-13 at 1.02.16 AM.png', poster: 'images/Screen Shot 2026-01-13 at 1.02.16 AM.png' },
      'necs-bts': { video: 'images/videos/valorant.mp4', title: 'Behind the Scenes - Bridgestone Arena', channel: 'NECS BTS', game: 'Just Chatting', viewers: '12,345', avatar: 'images/logo.png', poster: 'images/Screen Shot 2026-01-13 at 1.01.43 AM.png' },
      'tenz': { video: 'images/videos/valorant.mp4', title: 'TenZ Ranked Grind - Road to Radiant', channel: 'TenZ', game: 'VALORANT', viewers: '34,567', avatar: 'images/Screen Shot 2026-01-13 at 1.01.57 AM.png', poster: 'images/Screen Shot 2026-01-13 at 1.01.57 AM.png' },
      'sypical': { video: 'images/videos/rocket.mp4', title: 'Sypical Pro Training Session', channel: 'Sypical', game: 'Rocket League', viewers: '18,234', avatar: 'images/Screen Shot 2026-01-13 at 1.02.32 AM.png', poster: 'images/Screen Shot 2026-01-13 at 1.02.32 AM.png' },
      'mkleo': { video: 'images/videos/smash.mp4', title: 'MkLeo Tournament Practice', channel: 'MkLeo', game: 'Super Smash Bros. Ultimate', viewers: '22,456', avatar: 'images/Screen Shot 2026-01-13 at 1.02.16 AM.png', poster: 'images/Screen Shot 2026-01-13 at 1.02.16 AM.png' },
      'clip-tenz': { video: 'images/videos/valorant.mp4', title: 'TenZ INSANE 1v5 ACE CLUTCH', channel: 'NECS Clips', game: 'VALORANT', viewers: '245,000', avatar: 'images/logo.png', poster: 'images/Screen Shot 2026-01-13 at 1.01.57 AM.png' },
      'clip-rl': { video: 'images/videos/rocket.mp4', title: 'TRIPLE OVERTIME GAME WINNER', channel: 'NECS Clips', game: 'Rocket League', viewers: '189,000', avatar: 'images/logo.png', poster: 'images/Screen Shot 2026-01-13 at 1.02.32 AM.png' },
      'clip-mkleo': { video: 'images/videos/smash.mp4', title: 'MkLeo PERFECT 3-STOCK', channel: 'NECS Clips', game: 'Super Smash Bros. Ultimate', viewers: '156,000', avatar: 'images/logo.png', poster: 'images/Screen Shot 2026-01-13 at 1.02.16 AM.png' }
    };
    
    let currentPage = 'browse', isFollowing = false, chatInterval = null, sidebarCollapsed = false, chatHidden = false, currentQuality = 0;
    const qualities = ['1080p', '720p', '480p', 'Auto'];
    
    function showToast(msg) { const t = document.getElementById('toast'); t.textContent = msg; t.classList.add('show'); setTimeout(() => t.classList.remove('show'), 2000); }
    function setNavActive(id) { document.querySelectorAll('.topnav-link').forEach(l => l.classList.remove('active')); document.getElementById('nav-' + id).classList.add('active'); }
    function showPage(page) {
      currentPage = page;
      if (page === 'browse') {
        document.getElementById('browse-page').classList.remove('hidden');
        document.getElementById('player-page').classList.remove('active');
        stopVideo();
        if (chatInterval) clearInterval(chatInterval);
      }
    }
    function goHome() { showPage('browse'); setNavActive('following'); }
    function toggleSidebar() { sidebarCollapsed = !sidebarCollapsed; document.getElementById('sidebar').classList.toggle('collapsed', sidebarCollapsed); document.getElementById('main').classList.toggle('expanded', sidebarCollapsed); }
    function handleSearch(e) { if (e.key === 'Enter') doSearch(); }
    function doSearch() { const q = document.getElementById('search-input').value.trim(); showToast(q ? 'Searching for "' + q + '"...' : 'Enter a search term'); }
    
    function watchStream(streamId) {
      const stream = streams[streamId];
      if (!stream) { showToast('Stream not found'); return; }
      document.getElementById('browse-page').classList.add('hidden');
      document.getElementById('player-page').classList.add('active');
      loadVideo(stream.video, stream.poster);
      document.getElementById('player-title').textContent = stream.title;
      document.getElementById('player-channel').textContent = stream.channel;
      document.getElementById('player-game').textContent = stream.game;
      document.getElementById('player-viewers').textContent = stream.viewers;
      document.getElementById('player-avatar').src = stream.avatar;
      isFollowing = false; updateFollowBtn(); startChat();
    }
    
    function startChat() {
      const messages = document.getElementById('chat-messages');
      messages.innerHTML = '';
      [{ user: 'NECSFan2026', color: 'user-gold', badge: 'üèÜ', text: "Let's gooo Nashville!" }, { user: 'ProGamer', color: 'user-blue', badge: '', text: 'This production is insane' }, { user: 'EsportsLover', color: 'user-pink', badge: '', text: 'Best tournament ever üî•' }].forEach(m => addChatMsg(m.user, m.color, m.badge, m.text));
      if (chatInterval) clearInterval(chatInterval);
      chatInterval = setInterval(() => {
        const autoMsgs = [{ user: 'TwitchFan', color: 'user-blue', text: 'PogChamp' }, { user: 'GamerGirl', color: 'user-pink', text: 'This is amazing!!' }, { user: 'ESLWatcher', color: 'user-purple', text: 'GG' }, { user: 'ProViewer', color: 'user-orange', text: 'üî•üî•üî•' }, { user: 'NashvilleFan', color: 'user-gold', text: 'Bridgestone is going crazy!' }, { user: 'VALFan', color: 'user-cyan', text: 'SEN SEN SEN' }, { user: 'RLCSFan', color: 'user-green', text: 'What a save!' }, { user: 'SmashHero', color: 'user-red', text: 'MkLeo diff' }];
        const m = autoMsgs[Math.floor(Math.random() * autoMsgs.length)];
        addChatMsg(m.user, m.color, '', m.text);
      }, 2500);
    }
    
    function addChatMsg(user, color, badge, text) {
      const messages = document.getElementById('chat-messages');
      const div = document.createElement('div');
      div.className = 'chat-msg';
      div.innerHTML = (badge ? '<span class="chat-badge">' + badge + '</span>' : '') + '<span class="chat-user ' + color + '" onclick="showToast(\'Viewing ' + user + ' profile\')">' + user + '</span>: <span class="chat-text">' + text + '</span>';
      messages.appendChild(div);
      messages.scrollTop = messages.scrollHeight;
      while (messages.children.length > 50) messages.removeChild(messages.children[0]);
    }
    
    function handleChatEnter(e) { if (e.key === 'Enter') sendChatMessage(); }
    function sendChatMessage() { const input = document.getElementById('chat-input'); const text = input.value.trim(); if (text) { addChatMsg('You', 'user-gold', 'üèÜ', text); input.value = ''; } }
    function addEmoji() { const emojis = ['üòÄ', 'üî•', 'üíØ', 'üëè', 'üéÆ', 'üèÜ', '‚ù§Ô∏è', 'üòÇ']; document.getElementById('chat-input').value += emojis[Math.floor(Math.random() * emojis.length)]; }
    function toggleChat() { chatHidden = !chatHidden; document.getElementById('chat-sidebar').classList.toggle('hidden', chatHidden); document.getElementById('chat-toggle').classList.toggle('active', !chatHidden); }
    const videoEl = document.getElementById('player-video');
    const seekSlider = document.getElementById('seek-slider');
    const timeDisplay = document.getElementById('time-display');
    const playBtn = document.getElementById('play-btn');
    const muteBtn = document.getElementById('mute-btn');

    function loadVideo(src, poster) {
      videoEl.pause();
      videoEl.src = src;
      if (poster) videoEl.poster = poster;
      videoEl.currentTime = 0;
      videoEl.playbackRate = 1;
      document.getElementById('speed-select').value = '1';
      videoEl.volume = 0.75;
      updatePlayState();
      videoEl.play().catch(() => {});
    }

    function stopVideo() {
      videoEl.pause();
      videoEl.removeAttribute('src');
      videoEl.load();
      updateTimeDisplay(0, 0);
      seekSlider.value = 0;
      updatePlayState();
    }

    function togglePlay() {
      if (videoEl.paused) {
        videoEl.play();
      } else {
        videoEl.pause();
      }
      updatePlayState();
    }

    function toggleMute() {
      videoEl.muted = !videoEl.muted;
      muteBtn.textContent = videoEl.muted ? 'üîá' : 'üîä';
    }

    function setVolume(val) {
      videoEl.volume = Math.min(1, Math.max(0, val / 100));
      if (videoEl.volume === 0) videoEl.muted = true;
      if (videoEl.volume > 0) videoEl.muted = false;
      muteBtn.textContent = videoEl.muted ? 'üîá' : 'üîä';
    }

    function setSpeed(val) {
      videoEl.playbackRate = parseFloat(val);
      showToast('Speed: ' + val + 'x');
    }

    function seekTo(val) {
      if (!videoEl.duration) return;
      const pct = parseFloat(val) / 100;
      videoEl.currentTime = pct * videoEl.duration;
    }

    function updateTimeDisplay(current, duration) {
      const fmt = (t) => {
        if (!isFinite(t)) return '0:00';
        const m = Math.floor(t / 60);
        const s = Math.floor(t % 60).toString().padStart(2, '0');
        return `${m}:${s}`;
      };
      timeDisplay.textContent = `${fmt(current)} / ${fmt(duration)}`;
    }

    function updatePlayState() {
      playBtn.textContent = videoEl.paused ? '‚ñ∂' : '‚è∏';
    }

    videoEl.addEventListener('timeupdate', () => {
      if (!videoEl.duration) return;
      const pct = (videoEl.currentTime / videoEl.duration) * 100;
      seekSlider.value = pct.toString();
      updateTimeDisplay(videoEl.currentTime, videoEl.duration);
    });

    videoEl.addEventListener('loadedmetadata', () => {
      updateTimeDisplay(videoEl.currentTime, videoEl.duration);
    });

    videoEl.addEventListener('play', updatePlayState);
    videoEl.addEventListener('pause', updatePlayState);
    function cycleQuality() { currentQuality = (currentQuality + 1) % qualities.length; document.querySelector('.player-quality').textContent = qualities[currentQuality]; showToast('Quality: ' + qualities[currentQuality]); }
    function toggleTheater() { showToast('Theater mode toggled'); }
    function toggleFullscreen() { const player = document.querySelector('.player-video'); if (document.fullscreenElement) document.exitFullscreen(); else player.requestFullscreen(); }
    function togglePlayerFollow() { isFollowing = !isFollowing; updateFollowBtn(); showToast(isFollowing ? 'Now following!' : 'Unfollowed'); }
    function updateFollowBtn() { const btn = document.getElementById('player-follow'); btn.className = 'player-follow-btn ' + (isFollowing ? 'following' : 'follow'); btn.innerHTML = isFollowing ? '‚ô• Following' : '‚ô° Follow'; }
    document.addEventListener('keydown', (e) => { if (e.key === 'Escape' && currentPage !== 'browse') goHome(); });
  </script>
</body>
</html>
